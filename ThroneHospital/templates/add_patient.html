{% extends 'base.html' %}
{% block content %}


<style>
  #app {
  font-size: 28px;
  font-weight: 700;
  color: #fff;
  font-family: "Nunito", sans-serif;
  }

  .modal-dialog {
    max-width: 340px; /* Set the desired width */
    width: 100%;
  }

</style>


    <!-- Loading starts -->
    <div id="loading-wrapper">
      <div class='spin-wrapper'>
        <div class='spin'>
          <div class='inner'></div>
        </div>
        <div class='spin'>
          <div class='inner'></div>
        </div>
        <div class='spin'>
          <div class='inner'></div>
        </div>
        <div class='spin'>
          <div class='inner'></div>
        </div>
        <div class='spin'>
          <div class='inner'></div>
        </div>
        <div class='spin'>
          <div class='inner'></div>
        </div>
      </div>
    </div>
    <!-- Loading ends -->

    <!-- Page wrapper starts -->
    <div class="page-wrapper">

      <!-- App header starts -->
      <div class="app-header d-flex align-items-center">

        <!-- Toggle buttons starts -->
        <div class="d-flex">
          <button class="toggle-sidebar">
            <i class="ri-menu-line"></i>
          </button>
          <button class="pin-sidebar">
            <i class="ri-menu-line"></i>
          </button>
        </div>
        <!-- Toggle buttons ends -->

        <!-- App brand starts -->
        <div class="app-brand ms-3">
          <a href="index-2.html" class="d-lg-block d-none">
            <img src="{{url_for('static', filename='assets/assets/images/favicon.ico')}}" class="logo" alt="Medicare Admin Template">
          </a>
          <span id="app">{{APP_NAME}}</span>
          <a href="index-2.html" class="d-lg-none d-md-block">
            <img src="{{url_for('static', filename='assets/assets/images/favicon.ico')}}" class="logo" alt="Medicare Admin Template">
          </a>
        </div>
        <!-- App brand ends -->

        <!-- App header actions starts -->
        <div class="header-actions">

          <div class="d-lg-flex d-none gap-2">

            <!-- Notifications dropdown starts -->
            <div class="dropdown">
              <a class="dropdown-toggle header-icon" href="#!" role="button" data-bs-toggle="dropdown"
                aria-expanded="false">
                <i class="bi bi-bell"></i>
                <span class="badge bg-success badge-number">0</span>
<!--                <span class="count-label warning"></span>-->
              </a>
              <div class="dropdown-menu dropdown-menu-end dropdown-300">
                <h5 class="fw-semibold px-3 py-2 text-primary">Appointments</h5>

                <!-- Scroll starts -->
                <div class="scroll300">

                  <!-- Activity List Starts -->
                  <div class="p-3">
                    <ul class="p-0 activity-list2">
                      <li class="activity-item pb-3 mb-3">
                        <a href="#!">
                          <h5 class="fw-regular">
                            <i class="ri-circle-fill text-info me-1"></i>
                            Appointments | Today.
                          </h5>
                          <div class="ps-3 ms-2 border-start">
                            <div class="d-flex align-items-center mb-2">
                              <div class="flex-shrink-0">
<!--                                <img src="{{url_for('static', filename='assets/assets/images/products/1.jpg')}}" class="img-shadow img-3x rounded-1"-->
<!--                                  alt="Hospital Admin Templates">-->
                              </div>
                              <div class="flex-grow-1 ms-3">
                                There are 0 appointments today.
                              </div>
                            </div>
                            <p class="m-0 small"></p>
                          </div>
                        </a>
                      </li>
                    </ul>
                  </div>
                  <!-- Activity List Ends -->

                </div>
                <!-- Scroll ends -->

                <!-- View all button starts -->
                <div class="d-grid m-3">
                  <a href="javascript:void(0)" class="btn btn-primary">View all</a>
                </div>
                <!-- View all button ends -->
              </div>
            </div>
            <!-- Notifications dropdown ends -->

          </div>
          <!-- Header actions ends -->

          <!-- Header user settings starts -->
          <div class="dropdown ms-2">
            <a id="userSettings" class="dropdown-toggle d-flex align-items-center" href="#!" role="button"
              data-bs-toggle="dropdown" aria-expanded="false">
              <img src="{{url_for('static', filename='assets/assets/images/profile-img.jpg')}}" class="img-shadow img-3x me-3 rounded-5" style="width:40px;height:40px;" alt="Hospital Admin Templates">

<!--              <div class="avatar-box">ADMIN<span class="status busy"></span></div>-->
            </a>
            <div class="dropdown-menu dropdown-menu-end shadow-lg">
              <div class="px-3 py-2">
                <span class="small">Admin</span>
                <h6 class="m-0">{{current_user.username}}</h6>
                <br>
                <hr style="color: #a5c5fe; margin: 0;">
                <a class="dropdown-item"  href="#">
                  <i class="bi bi-person"></i>
                  <span>My Profile</span>
                </a>
                <hr style="color: #a5c5fe; margin: 0;">
                <a class="dropdown-item" href="#">
                  <i class="bi bi-gear"></i>
                  <span>Account Settings</span>
                </a>
                <hr style="color: #a5c5fe; margin: 0;">
                <a class="dropdown-item d-flex align-items-center" href="{{url_for('bp.logout_admin')}}">
                  <i class="bi bi-box-arrow-right"></i>
                  <span>Sign Out</span>
                </a>
              </div>
            </div>
          </div>
          <!-- Header user settings ends -->

        </div>
        <!-- App header actions ends -->

      </div>
      <!-- App header ends -->

      <!-- Main container starts -->
      <div class="main-container">

        <!-- Sidebar wrapper starts -->
        <nav id="sidebar" class="sidebar-wrapper">


          <div class="sidebar-profile">
            <img src="{{url_for('static', filename='assets/assets/images/profile-img.jpg')}}" class="img-shadow img-3x me-3 rounded-5" alt="Hospital Admin Templates">
            <div class="m-0">
              <h5 class="mb-1 profile-name text-nowrap text-truncate">{{current_user.username}}</h5>
              <p class="m-0 small profile-name text-nowrap text-truncate">Admin</p>
            </div>
          </div>

          <div class="sidebarMenuScroll">
            <ul class="sidebar-menu">
              <li class="active current-page">
                <a href="{{url_for('bp.admin_dashboard', user=username)}}">
                  <i class="ri-home-6-line"></i>
                  <span class="menu-text">Admin Dashboard</span>
                </a>
              </li>

              <li class="treeview">
                <a href="#!">
                  <i class="ri-heart-pulse-line"></i>
                  <span class="menu-text">Patients</span>
                </a>
                <ul class="treeview-menu">
                  <li>
                    <a href="{{url_for('bp.add_patient', user=username)}}">Register Patient</a>
                  </li>
                  <li>
                    <a href="{{url_for('bp.patients_list', user=username)}}">Patients List</a>
                  </li>
                </ul>
              </li>


              <li class="treeview">
                <a href="#">
                  <i class="ri-nurse-line"></i>
                  <span class="menu-text">Nurses</span>
                </a>
                <ul class="treeview-menu">
                  <li>
                    <a href="{{url_for('bp.add_nurse', user=username)}}">Add Nurses</a>
                  </li>
                  <li>
                    <a href="#">Nurses List</a>
                  </li>
                </ul>
              </li>


              <li class="treeview">
                <a href="#">
                  <i class="ri-stethoscope-line"></i>
                  <span class="menu-text">Doctors</span>
                </a>
                <ul class="treeview-menu">
                  <li>
                    <a href="{{url_for('bp.add_doctor', user=username)}}">Add Doctor</a>
                  </li>
                  <li>
                    <a href="#">Doctors List</a>
                  </li>
<!--                  <li>-->
<!--                    <a href="#">Doctors Profile</a>-->
<!--                  </li>-->
                </ul>
              </li>


              <li class="treeview">
                <a href="#">
                  <i class="ri-list-check-3"></i>
                  <span class="menu-text">Lab Attendants</span>
                </a>
                <ul class="treeview-menu">
                  <li>
                    <a href="">Add Lab Attendants</a>
                  </li>
                  <li>
                    <a href="">Lab Attendants List</a>
                  </li>
                </ul>
              </li>


              <li class="treeview">
                <a href="#">
                  <i class="ri-message-3-line"></i>
                  <span class="menu-text">Pharmacists</span>
                </a>
                <ul class="treeview-menu">
                  <li>
                    <a href="#">Add Pharmacists List</a>
                  </li>
                  <li>
                    <a href="#">Pharmacists List</a>
                  </li>
                </ul>
              </li>


              <li class="treeview">
                <a href="#">
                  <i class="ri-dossier-line"></i>
                  <span class="menu-text">Appointments</span>
                </a>
                <ul class="treeview-menu">
                  <li>
                    <a href="#">Appointments</a>
                  </li>
                  <li>
                    <a href="#">Appointments List</a>
                  </li>
<!--                  <li>-->
<!--                    <a href="#">Book Appointment</a>-->
<!--                  </li>-->
                </ul>
              </li>
            </ul>
          </div>
          <!-- Sidebar menu ends -->

        </nav>
        <!-- Sidebar wrapper ends -->

        <!-- App container starts -->
        <div class="app-container">

          <!-- App hero header starts -->
          <div class="app-hero-header d-flex align-items-center">

            <!-- Breadcrum b starts -->
            <ol class="breadcrumb">
              <li class="breadcrumb-item">
                <i class="ri-home-8-line lh-1 pe-3 me-3 border-end"></i>
                <a href="{{url_for('bp.admin_dashboard', user=username)}}">Admin Dashboard</a>
              </li>
              <li class="breadcrumb-item text-primary" aria-current="page">
                Register Patient
              </li>
            </ol>
            <!-- Breadcrumb ends -->

          </div>
          <!-- App Hero header ends -->

          <!-- App body starts -->
          <div class="app-body">


          <div class="row gx-3">
              <div class="col-sm-12">
                <div class="card">
                  <div class="card-header">
                    <h5 class="card-title">Add Patient Details</h5>
                  </div>

                  {% with messages = get_flashed_messages(with_categories=true) %}
                    {% if messages %}
                      {% for category, message in messages %}
                         {% if category == 'success' %}
                            <div class="alert alert-success bg-success text-light border-0 alert-dismissible fade show" role="alert" id="successMessage">
                              <i class="bi-check-circle-fill"></i>
                              {{ message }}
                                <button type="button" class="btn-close btn-close-white" data-bs-dismiss="alert" aria-label="Close"></button>
                            </div>
                         {% endif %}

                          {% if category == 'error' %}
                            <div class="alert alert-danger bg-danger text-light border-0 alert-dismissible fade show" role="alert" id="errorMessage">
                               <i class="bi-exclamation-octagon-fill"></i>
                              {{ message }}
                              <button type="button" class="btn-close btn-close-white" data-bs-dismiss="alert" aria-label="Close"></button>
                            </div>
                          {% endif %}
                      {% endfor %}
                    {% endif %}
                  {% endwith %}


                  <div class="card-body">

                    <!-- Row starts -->
                    <form action="{{url_for('bp.add_patient', user=username)}}" method="POST">
                      <div class="row gx-3">
                      <div class="col-xxl-3 col-lg-4 col-sm-6">
                        <div class="mb-3">
                          <label class="form-label" id="pID" for="a1">Patient's ID <span class="text-danger">*</span></label>
                          <input type="number" class="form-control" name="patient_num" id="id" placeholder="" value="{{patient_id}}" readonly>
                        </div>
                      </div>
                      <div class="col-xxl-3 col-lg-4 col-sm-6">
                        <div class="mb-3">
                          <label class="form-label" id="fn" for="a1">First Name <span class="text-danger">*</span></label>
                          <input type="text" class="form-control" name="first_name" id="a1" placeholder="Enter First Name" required>
                        </div>
                      </div>
                      <div class="col-xxl-3 col-lg-4 col-sm-6">
                        <div class="mb-3">
                          <label class="form-label" id="ln" for="a2">Last Name <span class="text-danger">*</span></label>
                          <input type="text" class="form-control" name="last_name" id="a2" placeholder="Enter Last Name" required>
                        </div>
                      </div>
                      <div class="col-xxl-3 col-lg-4 col-sm-6">
                        <div class="mb-3">
                          <label class="form-label" id="dob" for="a3">Date Of Birth <span class="text-danger">*</span></label>
                          <input type="date" class="form-control" name="dob" required>
                        </div>
                      </div>
                      <div class="col-xxl-3 col-lg-4 col-sm-6">
                        <div class="mb-3">
                          <label class="form-label" id="age" for="a3">Age <span class="text-danger">*</span></label>
                          <input type="number" class="form-control" name="age" id="a3" placeholder="Enter Last Name" required>
                        </div>
                      </div>
                      <div class="col-xxl-3 col-lg-4 col-sm-6">
                        <div class="mb-3">
                          <label class="form-label" id="gender" for="selectGender1">Gender <span
                              class="text-danger">*</span></label>
                          <div class="m-0">
                            <div class="form-check form-check-inline">
                              <input class="form-check-input" type="radio" name="gender" id="selectGender1"
                                value="Male" required>
                              <label class="form-check-label" for="selectGender1">Male</label>
                            </div>
                            <div class="form-check form-check-inline">
                              <input class="form-check-input" type="radio" name="gender" id="selectGender2"
                                value="Female">
                              <label class="form-check-label" for="selectGender2">Female</label>
                            </div>
                          </div>
                        </div>
                      </div>
                      <div class="col-xxl-3 col-lg-4 col-sm-6">
                        <div class="mb-3">
                          <label class="form-label" id="add" for="a4">Address <span class="text-danger">*</span></label>
                          <input type="text" class="form-control" name="address" id="a4" placeholder="Enter Address " required>
                        </div>
                      </div>
                      <div class="col-xxl-3 col-lg-4 col-sm-6">
                        <div class="mb-3">
                          <label class="form-label" id="mb" for="a6">Mobile Number <span class="text-danger">*</span></label>
                          <input type="text" class="form-control" name="mobile" id="a6" placeholder="Enter Mobile Number" required>
                        </div>
                      </div>
                      <div class="col-xxl-3 col-lg-4 col-sm-6">
                        <div class="mb-3">
                          <label class="form-label" id="mr" for="a7">Marital Status</label>
                          <select class="form-select" name="marital_status" id="a7" required>
                            <option value="0">Select</option>
                            <option value="married">Married</option>
                            <option value="unmarried">Un Married</option>
                          </select>
                        </div>
                      </div>
                      <div class="col-xxl-3 col-lg-4 col-sm-6">
                        <div class="mb-3">
                          <label class="form-label" id="nhis" for="a12">NHIS Number</label>
                          <input type="text" class="form-control" name="nhis" id="a12" placeholder="Enter NHIS Number">
                        </div>
                      </div>
                      <div class="col-xxl-3 col-lg-4 col-sm-6">
                        <div class="mb-3">
                          <label class="form-label" id="dr" for="a12">Date Registered</label>
                          <input type="date" class="form-control" name="reg_date"  placeholder="Enter Patient Registration Date" required>
                        </div>
                      </div>
                      <div class="col-sm-12">
                        <div class="d-flex gap-2 justify-content-end">
                          <button type="submit" class="btn btn-primary">Create Patient Profile</button>
                        </div>
                      </div>
                    </div>
                    </form>
                    <!-- Row ends -->

                  </div>
                </div>
              </div>
            </div>
            <!-- Row ends -->







          <!-- MODAL FORM FOR PASSWORD RESET START-->
          <!-- Reset Password Modal -->
            <div class="modal fade" id="resetPasswordModal" tabindex="-1" aria-labelledby="resetPasswordModalLabel" aria-hidden="true">
              <div class="modal-dialog">
                <div class="modal-content">
                  <div class="modal-header">
                    <h5 class="modal-title" id="resetPasswordModalLabel">Reset Password</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                  </div>
                  <div class="modal-body">
                    <!-- Form starts -->
                    <form action="">

                      <div class="auth-box">
<!--                        <a href="{{url_for('bp.admin_dashboard', user=username)}}" class="auth-logo mb-4">-->
<!--                          <img src="{{url_for('static', filename='assets/assets/images/favicon.ico')}}" alt="DigitsInfotech Logo">-->
<!--                        </a>-->
                        <div class="mb-3">
                          <label class="form-label" for="currentPwd">Current password <span class="text-danger">*</span></label>
                          <div class="input-group">
                            <input type="password" id="currentPwd" class="form-control" placeholder="Enter current password">
                            <button class="btn btn-outline-secondary" type="button">
                              <i class="ri-eye-line text-primary"></i>
                            </button>
                          </div>
                        </div>

                        <div class="mb-3">
                          <label class="form-label" for="newPwd">New password <span class="text-danger">*</span></label>
                          <div class="input-group">
                            <input type="password" id="newPwd" class="form-control" placeholder="Enter new password">
                            <button class="btn btn-outline-secondary" type="button">
                              <i class="ri-eye-line text-primary"></i>
                            </button>
                          </div>
                          <div class="form-text">
                            Your password must be 8-20 characters long.
                          </div>
                        </div>

                        <div class="mb-3">
                          <label class="form-label" for="confNewPwd">Confirm new password <span class="text-danger">*</span></label>
                          <div class="input-group">
                            <input type="password" id="confNewPwd" class="form-control" placeholder="Confirm new password">
                            <button class="btn btn-outline-secondary" type="button">
                              <i class="ri-eye-line text-primary"></i>
                            </button>
                          </div>
                        </div>

                        <div class="mb-3 d-grid">
                          <button type="submit" class="btn btn-primary">
                            Reset Password
                          </button>
                        </div>

                      </div>
                    </form>
                    <!-- Form ends -->
                  </div>
                </div>
              </div>
            </div>
          <!-- MODAL FORM FOR PASSWORD RESET ENDS-->




          </div>
          <!-- App body ends -->

          <!-- App footer starts -->
          <div class="app-footer bg-white">
            <span>© {{APP_NAME}} Designed by DigitsInfotech</span>
          </div>
          <!-- App footer ends -->

        </div>
        <!-- App container ends -->

      </div>
      <!-- Main container ends -->

    </div>
    <!-- Page wrapper ends -->

    <!-- *************
			************ JavaScript Files *************
		************* -->
    <!-- Required jQuery first, then Bootstrap Bundle JS -->
    <script src="{{url_for('static', filename='assets/assets/js/jquery.min.js')}}"></script>
    <script src="{{url_for('static', filename='assets/assets/js/bootstrap.bundle.min.js')}}"></script>
    <script src="{{url_for('static', filename='assets/assets/js/moment.min.js')}}"></script>

    <!-- *************
			************ Vendor Js Files *************
		************* -->

    <!-- Overlay Scroll JS -->
    <script src="{{url_for('static', filename='assets/assets/vendor/overlay-scroll/jquery.overlayScrollbars.min.js')}}"></script>
    <script src="{{url_for('static', filename='assets/assets/vendor/overlay-scroll/custom-scrollbar.js')}}"></script>

    <!-- Apex Charts -->
    <script src="{{url_for('static', filename='assets/assets/vendor/apex/apexcharts.min.js')}}"></script>
    <script src="{{url_for('static', filename='assets/assets/vendor/apex/custom/home/patients.js')}}"></script>
    <script src="{{url_for('static', filename='assets/assets/vendor/apex/custom/home/treatment.js')}}"></script>
    <script src="{{url_for('static', filename='assets/assets/vendor/apex/custom/home/available-beds.js')}}"></script>
    <script src="{{url_for('static', filename='assets/assets/vendor/apex/custom/home/earnings.js')}}"></script>
    <script src="{{url_for('static', filename='assets/assets/vendor/apex/custom/home/gender-age.js')}}"></script>
    <script src="{{url_for('static', filename='assets/assets/vendor/apex/custom/home/claims.js')}}"></script>

    <!-- Custom JS files -->
    <script src="{{url_for('static', filename='assets/assets/js/custom.js')}}"></script>



    <script type="text/javascript">
      window.setTimeout("document.getElementById('successMessage').style.display='none';", 5000);
    </script>

   <script type="text/javascript">
    window.setTimeout("document.getElementById('errorMessage').style.display='none';", 5000);
   </script>

<!-- .sidebarMenuScroll{height:calc(100vh - 250px);overflow:auto}.sidebarMenuScroll .os-scrollbar-vertical{left:0;right:initial}.scroll200{height:200px;overflow:auto}.scroll350{height:350px;overflow:auto}.scroll300{height:300px;overflow:auto}.scroll240{height:240px;overflow:auto}-->



{% endblock %}